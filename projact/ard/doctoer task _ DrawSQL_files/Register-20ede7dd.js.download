import{r as B,ai as U,R as V,a3 as o,a4 as h,Y as i,af as T,ah as J,S as c,X as t,a5 as m,U as a,V as g,T as P,$ as R,ag as $}from"./index.esm-4dcaccf3.js";import{_ as S}from"./Button-b6ac3cc7.js";import{B as I}from"./BaseInput-fcb7e685.js";import{_ as A}from"./Checkbox-06b54ec2.js";import{_ as E}from"./Label-43647b22.js";import{_ as H}from"./TwoPaneLayout-53c49c3a.js";import{L as N}from"./LogoLink-3510e286.js";import{B as q}from"./BaseAlert-a328c715.js";import{_ as j}from"./InputError-5bc69726.js";import{_ as x}from"./_plugin-vue_export-helper-c27b6911.js";import"./Input-d5846cb4.js";import"./BaseFieldErrors-601b2e42.js";import"./Banner-7ef5394f.js";import"./BaseSvgIcon-3b58455f.js";function F(){let e=B("");U(()=>{typeof Rewardful<"u"&&Rewardful.referral&&r(),addEventListener("Rewardful.tracked",()=>{r()})});const r=()=>{e.value=Rewardful.referral};return{rewardful_referral_id:e}}const M=V({components:{BaseAlert:q,Head:T,JetButton:S,BaseInput:I,JetCheckbox:A,JetLabel:E,Link:J,TwoPaneLayout:H,LogoLink:N,JetInputError:j},setup(){const{rewardful_referral_id:e}=F();return{rewardful_referral_id:e}},data(){return{form:this.$inertia.form({name:"",email:"",password:"",terms:!1,referrer:this.getCookie("referrer"),utm_source:this.getCookie("utm_source"),utm_medium:this.getCookie("utm_medium"),utm_campaign:this.getCookie("utm_campaign"),rewardful_referral_id:"",create_team:!1})}},computed:{redirectUrl(){const e=window.location.search.substring(1);return new URLSearchParams(e).get("redirectUrl")},redirectText(){const e=window.location.search.substring(1);return new URLSearchParams(e).get("redirectText")??null},shouldCreateTeam(){const e=window.location.search.substring(1);return new URLSearchParams(e).get("createTeam")??!1},loginHref(){return this.redirectUrl?this.route("login",{redirectUrl:this.redirectUrl}):this.route("login")}},methods:{submit(){this.rewardful_referral_id&&(this.form.rewardful_referral_id=this.rewardful_referral_id),this.shouldCreateTeam&&(this.form.create_team=!0),this.form.post(this.route("register"),{onFinish:()=>this.form.reset("password")})},getCookie(e){for(var r=e+"=",p=decodeURIComponent(document.cookie),u=p.split(";"),l=0;l<u.length;l++){for(var n=u[l];n.charAt(0)===" ";)n=n.substring(1);if(n.indexOf(r)===0)return n.substring(r.length,n.length)}return""}}}),z={class:"mt-4"},O={class:"mt-4"},W={key:0,class:"mt-4"},X={class:"flex items-center"},Y={class:"ml-2"},Z=["href"],D=["href"],G={class:"mt-4 flex items-center justify-center text-sm text-gray-900"};function K(e,r,p,u,l,n){const _=o("Head"),w=o("LogoLink"),k=o("BaseAlert"),d=o("JetLabel"),f=o("BaseInput"),v=o("JetCheckbox"),y=o("JetInputError"),b=o("JetButton"),L=o("Link"),C=o("TwoPaneLayout");return c(),h(C,null,{logo:i(()=>[t(w,{class:"h-16 w-auto",url:"/",variant:"mini"})]),heading:i(()=>[m(" Welcome! ")]),footer:i(()=>[a("div",G,[m(" Already registered? "),t(L,{class:"ml-3 text-indigo-600 hover:text-indigo-500",href:e.loginHref},{default:i(()=>[m(" Sign in here ")]),_:1},8,["href"])])]),default:i(()=>[t(_,{title:"Sign up"}),e.redirectUrl?(c(),h(k,{key:0,message:e.redirectText??"Please register or login to continue to the page."},null,8,["message"])):g("",!0),a("form",{class:"mt-4 space-y-6",onSubmit:r[4]||(r[4]=$((...s)=>e.submit&&e.submit(...s),["prevent"]))},[a("div",null,[t(d,{for:"name",value:"Name"}),t(f,{id:"name",modelValue:e.form.name,"onUpdate:modelValue":r[0]||(r[0]=s=>e.form.name=s),error:e.form.errors.name,type:"text",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue","error"])]),a("div",z,[t(d,{for:"email",value:"Email"}),t(f,{id:"email",modelValue:e.form.email,"onUpdate:modelValue":r[1]||(r[1]=s=>e.form.email=s),error:e.form.errors.email,type:"email",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue","error"])]),a("div",O,[t(d,{for:"password",value:"Password"}),t(f,{id:"password",modelValue:e.form.password,"onUpdate:modelValue":r[2]||(r[2]=s=>e.form.password=s),error:e.form.errors.password,type:"password",class:"mt-1 block w-full",required:"",autocomplete:"new-password"},null,8,["modelValue","error"])]),e.$page.props.jetstream.hasTermsAndPrivacyPolicyFeature?(c(),P("div",W,[t(d,{for:"terms"},{default:i(()=>[a("div",X,[t(v,{id:"terms",checked:e.form.terms,"onUpdate:checked":r[3]||(r[3]=s=>e.form.terms=s),name:"terms",required:""},null,8,["checked"]),a("div",Y,[m(" I agree to the "),a("a",{target:"_blank",href:e.route("marketing.terms.show"),class:"text-sm text-gray-600 underline hover:text-gray-900"},"Terms of Service",8,Z),m(" and "),a("a",{target:"_blank",href:e.route("marketing.policy.show"),class:"text-sm text-gray-600 underline hover:text-gray-900"},"Privacy Policy",8,D)])]),t(y,{class:"mt-2",message:e.form.errors.terms},null,8,["message"])]),_:1})])):g("",!0),t(b,{class:R(["mt-8 w-full justify-center",{"opacity-25":e.form.processing}]),disabled:e.form.processing},{default:i(()=>[m(" Sign up ")]),_:1},8,["class","disabled"])],32)]),_:1})}const ce=x(M,[["render",K]]);export{ce as default};
